<%- include ../layouts/header.ejs %>
<h1>Usuarios</h1>
<br>
<div>
    <a href="/admin" class="btn btn-primary" type="button">Regresar</a>
</div>
<br>
<h2>Agregar nuevo usuario</h2>
<form method="post" action="/admin/createUser">

    <div class="form-group">
        <label for="my-input">Identificaci√≥n persona</label>
        <input id="my-input" class="form-control" type="text" name="valDoc">
    </div>
    <div class="form-group">
        <label for="my-input">Username</label>
        <input id="my-input" class="form-control" type="text" name="username">
    </div>
    <div>
        <label for="my-input">Password</label>
        <input id="my-input" class="form-control" type="password" name="password">
    </div>
    <div>
        <label for="my-input">Tipo de Usuario</label>
        <select select  class="form-control" name="userType">
            <option value="1">Administrador</option>
            <option value="2">Propietario</option>
        </select>
    </div>
    <br>
    <button class="btn btn-danger" type="reset">Cancelar</button>
    <button class="btn btn-primary" type="submit">Agregar</button>
</form>
<br>
<br>

<h2>Actualizar datos de usuario</h2>
<h4>Rellenar campos a actualizar</h4>
<form method="post" action="/admin/updateUser">

    <div class="form-group">
        <label for="my-input">Username actual</label>
        <input id="my-input" class="form-control" type="text" name="username">
    </div>
    <div class="form-group">
        <label for="my-input">Nuevo username</label>
        <input id="my-input" class="form-control" type="text" name="newUsername">
    </div>
    <div class="form-group">
        <label for="my-input">Nuevo password</label>
        <input id="my-input" class="form-control" type="text" name="newPassword">
    </div>
    <button class="btn btn-danger" type="reset">Cancelar</button>
    <button class="btn btn-primary" type="submit">Actualizar</button>
</form>
<br>
<br>
<h2>Buscar usuario</h2>
<form method="post" action="/admin/searchUser">
    <div class="form-group">
        <label for="my-input">Username</label>
        <input id="my-input" class="form-control" type="text" name="username">
    </div>
    <button class="btn btn-danger" type="reset">Cancelar</button>
    <button class="btn btn-primary" type="submit">Buscar</button>
</form>
<br>
<br>

<h2>Desactivar usuario</h2>
<form method="post" action="/admin/deleteUser">
    <div class="form-group">
        <label for="my-input">Username</label>
        <input id="my-input" class="form-control" type="text" name="username">
    </div>
    <button class="btn btn-danger" type="reset">Cancelar</button>
    <button class="btn btn-primary" type="submit">Desactivar</button>
</form>
<br>
<br>

<table class="table table-dark">
    <thead class="thead-dark">
      <tr>
        <th>#ID</th>
        <th>Id persona</th>
        <th>Username</th>
        <th>Password</th>
        <th>Tipo de ususario</th>
        <th>Activo</th>
      </tr>
    </thead>
    <tbody>
      <% for( let usersIndex = 0; usersIndex < users[0].length; usersIndex++ ) { %>
        <tr>
          <td> <%= users[0][usersIndex].Id %>  </td>
          <td> <%= users[0][usersIndex].IdPersona %>  </td>
          <td> <%= users[0][usersIndex].Username %>  </td>
          <td> <%= users[0][usersIndex].Password %>  </td>
          <td> <%= users[0][usersIndex].TipoUsuario %>  </td>
          <td> <%= users[0][usersIndex].Activo %>  </td>
        </tr>
      <% } %>
    </tbody>
  </table>
<%- include ../layouts/foot.ejs %>