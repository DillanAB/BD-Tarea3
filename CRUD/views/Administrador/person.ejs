<%- include ../layouts/header.ejs %>
<h1>Personas</h1>
<br>
<div>
    <a href="/admin" class="btn btn-primary" type="button">Regresar</a>
</div>
<br>
<h2>Agregar nueva persona</h2>
<form method="post" action="/admin/createPerson">
    <div class="form-group">
        <label for="my-input">Nombre</label>
        <input id="my-input" class="form-control" type="text" name="name">
    </div>
    <div>
        <label for="my-input">Tipo de documento de identidad</label>
        <select select  class="form-control" name="tipoDoc">
            <option value="1">Cedula CR</option>
            <option value="2">Persona Jurídica CR</option>
            <option value="3">Pasaporte CR</option>
        </select>
    </div>
    <div class="form-group">
        <label for="my-input">Valor del documento de identidad</label>
        <input id="my-input" class="form-control" type="text" name="valDoc">
    </div>
    <div class="form-group">
        <label for="my-input">Email</label>
        <input id="my-input" class="form-control" type="text" name="email">
    </div>
    <div class="form-group">
        <label for="my-input">Teléfono 1</label>
        <input id="my-input" class="form-control" type="text" name="tel1">
    </div>
    <div class="form-group">
        <label for="my-input">Teléfono 2</label>
        <input id="my-input" class="form-control" type="text" name="tel2">
    </div>
    <button class="btn btn-danger" type="reset">Cancelar</button>
    <button class="btn btn-primary" type="submit">Agregar</button>
</form>
<br>
<br>

<h2>Actualizar datos de persona</h2>
<h4>Rellenar campos a actualizar</h4>
<form method="post" action="/admin/updatePerson">

    <div class="form-group">
        <label for="my-input">Valor del documento de identidad actual</label>
        <input id="my-input" class="form-control" type="text" name="valDoc">
    </div>
    <div class="form-group">
        <label for="my-input">Nuevo nombre</label>
        <input id="my-input" class="form-control" type="text" name="newName">
    </div>
    <div class="form-group">
        <label for="my-input">Nuevo email</label>
        <input id="my-input" class="form-control" type="text" name="newEmail">
    </div>
    <div class="form-group">
        <label for="my-input">Nuevo teléfono 1</label>
        <input id="my-input" class="form-control" type="text" name="newTel1">
    </div>
    <div class="form-group">
        <label for="my-input">Nuevo teléfono 2</label>
        <input id="my-input" class="form-control" type="text" name="newTel2">
    </div>
    
    <button class="btn btn-danger" type="reset">Cancelar</button>
    <button class="btn btn-primary" type="submit">Actualizar</button>
</form>
<br>
<br>

<h2>Buscar persona</h2>
<form method="post" action="/admin/searchPerson">
    <div class="form-group">
        <label for="my-input">Valor del documento de identidad</label>
        <input id="my-input" class="form-control" type="text" name="valDoc">
    </div>
    <button class="btn btn-danger" type="reset">Cancelar</button>
    <button class="btn btn-primary" type="submit">Buscar</button>
</form>
<br>
<br>

<h2>Desactivar persona</h2>
<form method="post" action="/admin/deletePerson">
    <div class="form-group">
        <label for="my-input">Valor del documento de identidad</label>
        <input id="my-input" class="form-control" type="text" name="valDoc">
    </div>
    <button class="btn btn-danger" type="reset">Cancelar</button>
    <button class="btn btn-primary" type="submit">Desactivar</button>
</form>
<br>
<br>

<table class="table table-dark">
    <thead class="thead-dark">
      <tr>
        <th>#ID</th>
        <th>Tipo documento de identidad</th>
        <th>Valor documento de identidad</th>
        <th>Nombre</th>
        <th>Email</th>
        <th>#Teléfono 1</th>
        <th>#Teléfono 2</th>
        <th>Activo</th>
      </tr>
    </thead>
    <tbody>
      <% for( let personIndex = 0; personIndex < people[0].length; personIndex++ ) { %>
        <tr>
          <td> <%= people[0][personIndex].Id %>  </td>
          <td> <%= people[0][personIndex].IdTipoDocumentoIdentidad %>  </td>
          <td> <%= people[0][personIndex].ValorDocumentoIdentidad %>  </td>
          <td> <%= people[0][personIndex].Nombre %>  </td>
          <td> <%= people[0][personIndex].Email %>  </td>
          <td> <%= people[0][personIndex].Telefono1 %>  </td>
          <td> <%= people[0][personIndex].Telefono2 %>  </td>
          <td> <%= people[0][personIndex].Activo %>  </td>
        </tr>
      <% } %>
    </tbody>
  </table>

<%- include ../layouts/foot.ejs %>